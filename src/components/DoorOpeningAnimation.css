.door-opening-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background: linear-gradient(to bottom, #0a1428 0%, #0d1b2a 50%, #051018 100%);
  perspective: 1200px;
}

.door-opening-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, 
    rgba(100, 200, 255, 0.3) 0%,
    rgba(50, 150, 200, 0.2) 50%,
    rgba(10, 20, 40, 0.8) 100%);
  animation: overlayFadeOut 5s ease-in forwards;
}

@keyframes overlayFadeOut {
  0% {
    opacity: 1;
  }
  32% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.door-opening-left {
  position: absolute;
  width: 50%;
  left: 0;
  animation: doorLeftOpen 4s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

.door-opening-right {
  position: absolute;
  width: 50%;
  right: 0;
  animation: doorRightOpen 4s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

@keyframes doorLeftOpen {
  0% {
    transform: translateX(0) rotateY(0deg);
    box-shadow: 
      0 0 50px rgba(0, 188, 212, 0.6),
      0 0 100px rgba(100, 200, 255, 0.4),
      inset 0 0 60px rgba(255, 255, 255, 0.4),
      inset -10px 0 30px rgba(0, 0, 0, 0.2);
  }
  50% {
    box-shadow: 
      0 0 80px rgba(0, 188, 212, 0.8),
      0 0 150px rgba(100, 200, 255, 0.6),
      inset 0 0 80px rgba(255, 255, 255, 0.6);
  }
  100% {
    transform: translateX(-120%) rotateY(-45deg);
    box-shadow: 
      0 50px 100px rgba(0, 188, 212, 0.4),
      0 0 200px rgba(100, 200, 255, 0.3),
      inset 0 0 60px rgba(255, 255, 255, 0.2);
  }
}

@keyframes doorRightOpen {
  0% {
    transform: translateX(0) rotateY(0deg);
    box-shadow: 
      0 0 50px rgba(0, 188, 212, 0.6),
      0 0 100px rgba(100, 200, 255, 0.4),
      inset 0 0 60px rgba(255, 255, 255, 0.4),
      inset 10px 0 30px rgba(0, 0, 0, 0.2);
  }
  50% {
    box-shadow: 
      0 0 80px rgba(0, 188, 212, 0.8),
      0 0 150px rgba(100, 200, 255, 0.6),
      inset 0 0 80px rgba(255, 255, 255, 0.6);
  }
  100% {
    transform: translateX(120%) rotateY(45deg);
    box-shadow: 
      0 50px 100px rgba(0, 188, 212, 0.4),
      0 0 200px rgba(100, 200, 255, 0.3),
      inset 0 0 60px rgba(255, 255, 255, 0.2);
  }
}

.door {
  position: absolute;
  height: 100%;
  /* Ice gradient */
  background: linear-gradient(135deg, 
    #e0f7ff 0%, 
    #b3e5fc 20%,
    #81d4fa 40%,
    #4fc3f7 60%,
    #29b6f6 80%,
    #1ba0e2 100%);
  border: 4px solid #00bcd4;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  top: 0;
  transform-style: preserve-3d;
}

.door-content {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.door-metal-frame {
  position: absolute;
  width: 95%;
  height: 95%;
  border: 2px solid rgba(100, 200, 255, 0.5);
  border-radius: 4px;
  background: linear-gradient(45deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.2) 25%, 
    transparent 50%);
  box-shadow: 
    inset 0 0 20px rgba(0, 188, 212, 0.3),
    inset 0 0 40px rgba(100, 200, 255, 0.2);
}

.door-lock {
  position: absolute;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: linear-gradient(135deg, 
    #ffffff 0%, 
    #e8f4ff 25%,
    #b3e5fc 50%,
    #4fc3f7 75%,
    #0096d6 100%);
  border: 3px solid #00bcd4;
  box-shadow: 
    0 0 30px rgba(0, 188, 212, 0.8),
    0 0 60px rgba(100, 200, 255, 0.5),
    inset 0 2px 10px rgba(255, 255, 255, 0.6),
    inset 0 -2px 10px rgba(0, 100, 150, 0.4);
}

.door-freedom-light {
  position: absolute;
  width: 600px;
  height: 600px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, 
    rgba(255, 255, 255, 0.8) 0%,
    rgba(200, 230, 255, 0.6) 20%,
    rgba(100, 200, 255, 0.3) 50%,
    transparent 80%);
  animation: freedomLightExpand 5s ease-out;
  pointer-events: none;
  filter: blur(30px);
}

@keyframes freedomLightExpand {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }
  30% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.5);
  }
}

.door-success-container {
  position: absolute;
  z-index: 10;
  width: 100%;
  text-align: center;
  top: 45%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.door-success-text {
  font-size: 4rem;
  font-weight: 900;
  color: #ffffff;
  text-shadow: 
    0 0 20px rgba(0, 188, 212, 1),
    0 0 40px rgba(100, 200, 255, 0.8),
    0 0 60px rgba(0, 100, 150, 0.6),
    0 0 80px rgba(0, 188, 212, 0.4);
  font-family: 'Cinzel', serif;
  letter-spacing: 4px;
  animation: successTextAppear 5s ease-in-out forwards;
  margin-bottom: 15px;
}

.door-success-subtext {
  font-size: 1.3rem;
  font-weight: 600;
  color: #b3e5fc;
  text-shadow: 
    0 0 15px rgba(0, 188, 212, 0.8),
    0 0 30px rgba(100, 200, 255, 0.5);
  font-family: 'Cinzel', serif;
  letter-spacing: 2px;
  animation: subTextAppear 5s ease-in-out forwards;
}

@keyframes successTextAppear {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  20% {
    opacity: 0;
  }
  32% {
    opacity: 1;
    transform: scale(1);
  }
  68% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(1.1);
  }
}

@keyframes subTextAppear {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  24% {
    opacity: 0;
  }
  36% {
    opacity: 1;
    transform: translateY(0);
  }
  68% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-20px);
  }
}

/* Ice particles shattering effect */
.ice-particles {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.ice-particle {
  position: absolute;
  width: 15px;
  height: 15px;
  background: linear-gradient(135deg, #e0f7ff, #81d4fa);
  border: 1px solid #4fc3f7;
  box-shadow: 0 0 10px rgba(100, 200, 255, 0.6);
  animation: particleShatter 5s ease-out forwards;
  border-radius: 50%;
  top: 50%;
  transform: translateY(-50%);
}

@keyframes particleShatter {
  0% {
    opacity: 0;
    transform: translateY(-50%) translateX(0) scale(1);
  }
  15% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateY(calc(-50% + var(--ty, 200px))) translateX(var(--tx, 200px)) scale(0);
  }
}

/* Individual particle trajectories */
.ice-particle:nth-child(1) { --tx: 100px; --ty: -150px; animation-delay: 0.3s; }
.ice-particle:nth-child(2) { --tx: -150px; --ty: -100px; animation-delay: 0.35s; }
.ice-particle:nth-child(3) { --tx: 180px; --ty: 120px; animation-delay: 0.4s; }
.ice-particle:nth-child(4) { --tx: -100px; --ty: 150px; animation-delay: 0.45s; }
.ice-particle:nth-child(5) { --tx: 200px; --ty: -50px; animation-delay: 0.5s; }
.ice-particle:nth-child(6) { --tx: -200px; --ty: -120px; animation-delay: 0.3s; }
.ice-particle:nth-child(7) { --tx: 120px; --ty: 180px; animation-delay: 0.35s; }
.ice-particle:nth-child(8) { --tx: -140px; --ty: 100px; animation-delay: 0.4s; }
.ice-particle:nth-child(9) { --tx: 160px; --ty: -180px; animation-delay: 0.45s; }
.ice-particle:nth-child(10) { --tx: -180px; --ty: 140px; animation-delay: 0.5s; }
.ice-particle:nth-child(11) { --tx: 90px; --ty: 160px; animation-delay: 0.33s; }
.ice-particle:nth-child(12) { --tx: -120px; --ty: -160px; animation-delay: 0.38s; }
.ice-particle:nth-child(13) { --tx: 150px; --ty: 90px; animation-delay: 0.43s; }
.ice-particle:nth-child(14) { --tx: -160px; --ty: -140px; animation-delay: 0.48s; }
.ice-particle:nth-child(15) { --tx: 130px; --ty: -100px; animation-delay: 0.53s; }

/* Door crystalline pattern */
.door::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 40px,
      rgba(100, 200, 255, 0.1) 40px,
      rgba(100, 200, 255, 0.1) 42px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 30px,
      rgba(100, 200, 255, 0.08) 30px,
      rgba(100, 200, 255, 0.08) 32px
    );
  pointer-events: none;
  animation: crystallineShimmer 5s ease-in-out;
}

@keyframes crystallineShimmer {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.6;
  }
}

/* Light reflection */
.door::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.2) 40%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.05) 60%,
    transparent 100%);
  animation: iceReflectOpen 5s ease-in-out;
  pointer-events: none;
}

@keyframes iceReflectOpen {
  0% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
  }
}

/* Move further animation for 10 question completion */
.door-move-further {
  animation: doorMoveUp 2s ease-in forwards !important;
}

@keyframes doorMoveUp {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-100vh);
  }
}
